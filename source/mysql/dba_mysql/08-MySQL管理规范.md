---
title: MySQL管理规范
---

# 数据库文档规范

| 规范                           | 目录名                   | 内容                                                         |
| :----------------------------- | :----------------------- | :----------------------------------------------------------- |
| 业务负责人明细维护规范         | 业务负责人明细           | 记录数据库主要项目负责人，backup明细                         |
| 数据库维护记录归档规范         | 数据库维护记录           | 复杂落地文档汇总要求：<br>业务数据库架构； <br/>项目类实施文档； <br/>重要case的处理记录 |
| 数据库团队内部测试环境维护规范 | 数据库团队应用和代码环境 | 日常技术验证与测试                                           |

## 业务负责人明细

| 编号 | 业务  | 业务联系人 | 数据库第一责任人 | 数据库第二责任人 |
| ---- | ----- | ---------- | ---------------- | ---------------- |
| 1    | 业务A |            |                  |                  |
| 2    | 业务B |            |                  |                  |

## 数据库维护记录

### 一级目录

- 命名规则：`业务类型_业务编号_业务名称`
- 存放内容：存放该业务有输出沉淀的事件

例如：交易_01_aaaa

### 二级目录

#### 文档标题的规范

- 命令规则：`yy.mm.dd.N.事件名称_事件类别_${事件简述}${后缀}`
- 存放内容：事件的输出文档明细

其中：

- 事件类别：产品咨询、语法故障、CPU故障、内存故障、IO故障、磁盘故障、主从故障、锁故障、连接故障、密码破解、数据丢失、安装配置、备份恢复、架构设计、SQL优化、迁移实施、数据库升级、SQL追踪、数据库宕机、非数据库故障
- 后缀：迁移【报告/方案/跟进】、实施【报告/方案/跟进】、排查报告、优化建议

例如：

- `2019.02.25.0.普乐师_CPU故障_xx系统CPU飙高排查报告`

#### 事件简述的规范

```bash
前提/前情概要
需求说明
XX方案
XX步骤
XX计划
XX总结
后续事项
```

### 文档模板

* 迁移报告模板

* 迁移方案模板

* 排查报告模板 

* 优化建议模板

## 数据库团队应用和代码环境

### 环境划分

生产PRD、测试UAT、开发DEV

### 实例列表

| 实例名称 | 实例版本 | 内网地址 | 内网端口 | SID  | 服务名(Oracle) | 实例来源 | 服务器连接信息 |
| -------- | -------- | -------- | -------- | ---- | -------------- | -------- | -------------- |
|          |          |          |          |      |                |          |                |

### 服务器明细

| 服务器      | 操作系统   | 规格        | ip地址      | ssh端口 | 操作系统登陆方式 | 数据库实例登陆方式 |
| :---------- | :--------- | :---------- | :---------- | :------ | :--------------- | :----------------- |
| local_dba01 | Centos 6.9 | 4核/8G/917G | 10.200.6.53 | 40022   |                  |                    |

### 应用明细

| `开源工具`      | `语言`   | `安装路径`                  | URL  | `简介`                                           |
| :-------------- | :------- | :-------------------------- | ---- | :----------------------------------------------- |
| `Grafana`       |          | `/alidata/grafana/`         |      | `监控展示 admin/Zyadmin123`                      |
| `Arkcontrol`    |          | `/data/Arkcontrol/`         |      | `极数方舟数据库管理平台 ark_control/ark_control` |
| `Soar`          | `Go`     | `/alidata/soar-web-master/` |      | `小米开源SQL优化`                                |
| `Yearning `     | `Go`     | `/software/Yearning-go/`    |      | `开源SQL审计平台 admin/Yearning_admin`           |
| `Orchestrator`  | `Go`     | `/alidata/orchestrator/`    |      | `MySQL高可用复制管理工具`                        |
| `AcraCensor`    |          |                             |      | `SQL注入预防\入侵检测系统\透明加密`              |
| `CloudDBA demo` | `Python` | `/alidata/CloudCareDBA/`    |      | `CloudDBA demo`                                  |
| `KS`            | `PHP`    | `/var/www/ks.com/`          |      | `数据库团队考试系统(http php)`                   |
| `cloudTopo`     | `Python` | `/alidata/cloudTopo/`       |      | 自动拓扑感知小工具                               |
| `SuperCloud`    | `Python` | `/alidata/SuperCloud/`      |      | `数据库自动化运维管理小工具自助平台`             |

# 数据库技术规范


* 业务数据库对接规范
* 数据库安装部署规范
* 数据库备份规范
* 数据库安全规范
* 数据库归档规范
* 数据库监控规范
* 数据库自动化运维规范
* 数据库迁移规范
* 数据库升级规范

## 数据库迁移规范

* DTS 传输速率
* 数据库迁移方案（同构、异构）
* 数据库迁移案例
* 数据库上云规范

## 数据库自动化运维规范

* 自动化运维工具
* 自动化运维平台

## 云数据库使用测试规范

# 数据库团队管理规范

## 工作记录规范

1. 每个同学一周工作记录（以DBA为维度记录的事实，保存在jira中，任务规范命名：DBA_花名_工作记录）
2. 一周按照客户（事件、项目）维度统计（项目类记录在jira中，任务规范命名：DBA_客户名_项目名_跟进记录）
3. 内部的规划好的事件进展（记录在jira中，任务规范命名：DBA_内部任务_【具体任务】）

## 开发项目规范

1. 创建对应项目的面版，项目的对应PM制定任务命名、标签等规则；
2. 项目中的报告人为对应PM

## 每周例会规范

1. 例会时间：周五下午4点～6点
2. 例会主持：DBA小组成员轮询
3. 会议纪要：主持人负责会议纪要并邮件同步小组成员，最迟周六23:59发出

## 周会议程

1. 小组成员一周工作内容简报
2. CMS客户项目进展以及后续计划汇报
3. 内部开发项目进展以及后续计划汇报
4. 技术分享和吐槽环节

## 数据库团队培训规范

* 新人入职培训
* 日常技能培训
* 新技术学习培训

## 数据库事件升级规范



